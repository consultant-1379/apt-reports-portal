export class Accordion {
  static toggleAccordion(li) {
    li.classList.toggle('opened');
  }

  constructor(element) {
    this.dom = {
      accordion: element,
      lis: element.querySelectorAll('li'),
    };
  }

  init() {
    this.eventHandler();
  }

  eventHandler(type) {
    if (type === 'remove') {
      Array.from(this.dom.lis).forEach(li => {
        li.querySelector('.title')
          .removeEventListener('click', () => Accordion.toggleAccordion(li), false);
      });
      return;
    }
    Array.from(this.dom.lis).forEach(li => {
      li.querySelector('.title')
        .addEventListener('click', () => Accordion.toggleAccordion(li), false);
    });
  }

  destroy() {
    this.eventHandler('remove');
    // and other tasks to be run once at destruction
  }
}
